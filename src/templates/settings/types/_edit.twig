{% extends "_layouts/cp" %}

{% set fullPageForm = true %}

{% import "_includes/forms" as forms %}

{% set headlessMode = craft.app.config.general.headlessMode %}

{% block content %}
    {{ actionInput('productlabels/product-labels/save-product-label-type') }}
    {{ redirectInput('settings/productlabels') }}

    {% if productLabelType.id %}{{ hiddenInput('typeId', productLabelType.id) }}{% endif %}

    {{ forms.textField({
        first: true,
        label: "Name"|t('app'),
        instructions: "What this product label type will be called in the control panel."|t('app'),
        id: 'name',
        name: 'name',
        value: productLabelType.name,
        errors: productLabelType.getErrors('name'),
        autofocus: true,
        required: true,
    }) }}

    {{ forms.textField({
        label: "Handle"|t('app'),
        instructions: "How youâ€™ll refer to this product label type in the templates."|t('app'),
        id: 'handle',
        name: 'handle',
        class: 'code',
        autocorrect: false,
        autocapitalize: false,
        value: productLabelType.handle,
        errors: productLabelType.getErrors('handle'),
        required: true
    }) }}

    <hr>

    {{ forms.fieldLayoutDesignerField({
        fieldLayout: productLabelType.getFieldLayout(),
    }) }}
{% endblock %}

{% if isNewType %}
    {% js %}
        new Craft.HandleGenerator('#name', '#handle');
    {% endjs %}
{% endif %}
